@if (items$ | async; as items) {
  @if (items.length === 0) {
    <div class="empty-cart">
      Your cart is empty
    </div>
  }

  @for (item of items; track item.id) {
    <div class="cart-item">
      <h4>{{ item.product.title }}</h4>
      <p>Price</p>
      <div class="quantity-controls">
        <button (click)="updateQuantity(item.id, item.quantity - 1)" [disabled]="item.quantity <= 1">-</button>
        <span>{{ item.quantity }}</span>
        <button (click)="updateQuantity(item.id, item.quantity + 1)">+</button>
      </div>
      <button (click)="removeItem(item.id)">Remove</button>
    </div>
  }

  @if (items.length > 0) {
    <div class="cart-summary">
      <h3>Total: {{ total$ | async | currency }}</h3>
      <button (click)="clearCart()">Clear Cart</button>
    </div>
  }
}
